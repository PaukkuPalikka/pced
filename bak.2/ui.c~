#include <ncurses.h>

#include "ui.h"
#include "buffer.h"

buffer *b;

void ui_init(buffer *buf)
{
    b = buf;
    initscr();
    raw();
    keypad(stdscr, TRUE);
    noecho();
}

int ui_update()
{
    int s = 1;
    /* handle input */
    int ch = getch();

    if (ch == 27) s = 0;
    
    /* update the screen */
    refresh();
    
    return s;
}

void ui_free()
{
    endwin();
}
